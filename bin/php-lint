#!/usr/bin/env bash
#
# Check PHP files for syntax errors.
#
# Usage:
#
#   ./bin/php-lint

set -e

# Find all files
#     exclude vendor, bin, .git
#     only .php files
# Run syntax check for each file
find . \
    -path ./vendor -prune -o -path ./bin -prune -o -path ./.git -prune -o \
    -name "*.php" -type f -print0 \
    | xargs -0 -L 1 -P 4 -- php -l -f
